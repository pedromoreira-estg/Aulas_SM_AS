package  {		import flash.display.MovieClip;	import flash.events.KeyboardEvent;	import flash.events.Event;	import flash.ui.Keyboard;	import flashx.textLayout.elements.InlineGraphicElement;		public class teclas3 extends MovieClip {										const VEPS : Number = 0.05;		const FRICTION : Number = 0.95;						const DV  : Number = 0.2;		const DD 	: Number = 5;				var   DIR : Number = 0;		var   V   : Number = 0;				const MAXV : Number = 10.0;				var UP 		: Boolean = false;	// acceleration		var DOWN 	: Boolean = false;	// break / rear gear		var RIGHT : Boolean = false;  // turn right		var LEFT	: Boolean = false;  // turn left				var pulga : Pulga2;				public function teclas3() {			// constructor code			init();			stage.addEventListener(KeyboardEvent.KEY_DOWN, onkeydown);			stage.addEventListener(KeyboardEvent.KEY_UP, onkeyup);			addEventListener(Event.ENTER_FRAME,updateFPS);		}						function init() {			pulga = new Pulga2();			pulga.x = stage.stageWidth / 2;			pulga.y = stage.stageHeight / 2;			addChild(pulga);		}				function updateFPS(e:Event) {			update();		}				function update() {			V *= FRICTION;						if (Math.abs(V) < VEPS) V = 0.0;						if (UP) V += DV;			else if (DOWN) V -= DV;						if (RIGHT) DIR += DD;			else if (LEFT) DIR -= DD;						if (V > MAXV) V = MAXV;			if (V < -MAXV) V = -MAXV;						var vx = V * Math.cos(DIR*Math.PI/180);			var vy = V * Math.sin(DIR*Math.PI/180);						pulga.x += vx;			pulga.y += vy;			pulga.rotation = DIR;		}				function onkeydown(e:KeyboardEvent) {			if (e.keyCode == Keyboard.DOWN) {				DOWN = true;			} else if (e.keyCode == Keyboard.UP){				UP = true;			} else if (e.keyCode == Keyboard.LEFT){				LEFT = true;			} else if (e.keyCode == Keyboard.RIGHT){				RIGHT = true;			}						// update em cada key down			// update();			// e.updateAfterEvent();		}				function onkeyup(e:KeyboardEvent) {			if (e.keyCode == Keyboard.DOWN) {				DOWN = false;			} else if (e.keyCode == Keyboard.UP){				UP = false;			} else if (e.keyCode == Keyboard.LEFT){				LEFT = false;			} else if (e.keyCode == Keyboard.RIGHT){				RIGHT = false;			}		}	}	}